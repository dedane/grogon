{"remainingRequest":"/home/makashima/Documents/code/grogon/node_modules/babel-loader/lib/index.js!/home/makashima/Documents/code/grogon/node_modules/eslint-loader/index.js??ref--13-0!/home/makashima/Documents/code/grogon/src/store/index.js","dependencies":[{"path":"/home/makashima/Documents/code/grogon/src/store/index.js","mtime":1596985738972},{"path":"/home/makashima/Documents/code/grogon/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/makashima/Documents/code/grogon/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/makashima/Documents/code/grogon/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBWdWVDb29raWVzIGZyb20gJ3Z1ZS1jb29raWVzJzsKVnVlLnVzZShWdWV4KTsKVnVlLnVzZShWdWVDb29raWVzKTsKVnVlLiRjb29raWVzLmNvbmZpZygnMzBkJyk7CmF4aW9zLmRlZmF1bHRzLmJhc2VVUkwgPSAnaHR0cHM6Ly9ncm9nb24tYmFjay5oZXJva3VhcHAuY29tLyc7CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgc3RhdHVzOiAnJywKICAgIHRva2VuOiBWdWUuJGNvb2tpZXMuZ2V0KCd0b2tlbicpIHx8ICcnLAogICAgbWVjaDoge30sCiAgICBkcml2ZXI6IHt9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIGF1dGhfcmVxdWVzdDogZnVuY3Rpb24gYXV0aF9yZXF1ZXN0KHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cyA9ICdsb2FkaW5nJzsKICAgIH0sCiAgICBhdXRoX3N1Y2Nlc3M6IGZ1bmN0aW9uIGF1dGhfc3VjY2VzcyhzdGF0ZSwgdG9rZW4sIHBheWxvYWQpIHsKICAgICAgc3RhdGUuc3RhdHVzID0gJ3N1Y2Nlc3MnOwogICAgICBzdGF0ZS50b2tlbiA9IHRva2VuOwogICAgICBzdGF0ZS5tZWNoID0gcGF5bG9hZDsKICAgICAgc3RhdGUuZHJpdmVyID0gcGF5bG9hZDsKICAgIH0sCiAgICBhdXRoX2Vycm9yOiBmdW5jdGlvbiBhdXRoX2Vycm9yKHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cyA9ICdlcnJvcic7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzID0gJyc7CiAgICAgIHN0YXRlLnRva2VuID0gJyc7CiAgICB9CiAgfSwKICBnZXR0ZXJzOiB7CiAgICBpc0xvZ2dlZEluOiBmdW5jdGlvbiBpc0xvZ2dlZEluKHN0YXRlKSB7CiAgICAgIHJldHVybiAhIXN0YXRlLnRva2VuOwogICAgfSwKICAgIGF1dGhTdGF0dXM6IGZ1bmN0aW9uIGF1dGhTdGF0dXMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnN0YXR1czsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIG1lY2hSZWdpc3RlcjogZnVuY3Rpb24gbWVjaFJlZ2lzdGVyKF9yZWYsIHBheWxvYWQpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGNvbW1pdCgnYXV0aF9yZXF1ZXN0Jyk7CiAgICAgICAgYXhpb3MucG9zdCgnaHR0cHM6Ly9ncm9nb24tYmFjay5oZXJva3VhcHAuY29tL21lY2hhbmljL3JlZ2lzdGVyJywgcGF5bG9hZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICB2YXIgdG9rZW4gPSByZXMuZGF0YS50b2tlbjsKICAgICAgICAgIHZhciBtZWNoID0gewogICAgICAgICAgICBpZDogcmVzLmRhdGEuaWQsCiAgICAgICAgICAgIEVtYWlsOiByZXMuZGF0YS5FbWFpbAogICAgICAgICAgfTsKICAgICAgICAgIFZ1ZS4kY29va2llcy5zZXQoJ3Rva2VuJywgdG9rZW4pOwogICAgICAgICAgVnVlLiRjb29raWVzLnNldCgndXNlcicsIG1lY2gpOwogICAgICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9IHRva2VuOwogICAgICAgICAgY29tbWl0KCdhdXRoX3N1Y2Nlc3MnLCB0b2tlbiwgbWVjaCk7CiAgICAgICAgICByZXNvbHZlKHJlcyk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgY29tbWl0KCdhdXRoX2Vycm9yJyk7CiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTsKICAgICAgICAgIHJlamVjdChlcnIpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBtZWNoTG9naW46IGZ1bmN0aW9uIG1lY2hMb2dpbihfcmVmMiwgcGF5bG9hZCkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGNvbW1pdCgnYXV0aF9yZXF1ZXN0Jyk7CiAgICAgICAgYXhpb3MucG9zdCgnaHR0cHM6Ly9ncm9nb24tYmFjay5oZXJva3VhcHAuY29tL21lY2hhbmljL2xvZ2luJywgcGF5bG9hZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICB2YXIgdG9rZW4gPSByZXMuZGF0YS50b2tlbjsKICAgICAgICAgIHZhciBtZWNoID0gewogICAgICAgICAgICBpZDogcmVzLmRhdGEuaWQsCiAgICAgICAgICAgIEVtYWlsOiByZXMuZGF0YS5FbWFpbAogICAgICAgICAgfTsKICAgICAgICAgIFZ1ZS4kY29va2llcy5zZXQoJ3Rva2VuJywgdG9rZW4pOwogICAgICAgICAgVnVlLiRjb29raWVzLnNldCgndXNlcicsIG1lY2gpOwogICAgICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9IHRva2VuOwogICAgICAgICAgY29tbWl0KCdhdXRoX3N1Y2Nlc3MnLCB0b2tlbiwgbWVjaCk7CiAgICAgICAgICByZXNvbHZlKHJlcyk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgY29tbWl0KCdhdXRoX2Vycm9yJyk7CiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTsKICAgICAgICAgIHJlamVjdChlcnIpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBkcml2ZXJSZWdpc3RyYXRpb246IGZ1bmN0aW9uIGRyaXZlclJlZ2lzdHJhdGlvbihfcmVmMywgZHJpdmVyKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgY29tbWl0KCdhdXRoX3JlcXVlc3QnKTsKICAgICAgICBheGlvcy5wb3N0KCdodHRwczovL2dyb2dvbi1iYWNrLmhlcm9rdWFwcC5jb20vZHJpdmVyL3JlZ2lzdGVyJywgZHJpdmVyKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICB2YXIgdG9rZW4gPSByZXNwLmRhdGEudG9rZW47CiAgICAgICAgICAvKiAgY29uc3QgeyB1c2VyIH0gPSByZXNwLmRhdGE7ICovCgogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgdG9rZW4pOwogICAgICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9IHRva2VuOwogICAgICAgICAgY29tbWl0KCdhdXRoX3N1Y2Nlc3MnLCB0b2tlbiwgZHJpdmVyKTsKICAgICAgICAgIHJlc29sdmUocmVzcCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgY29tbWl0KCdhdXRoX2Vycm9yJyk7CiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTsKICAgICAgICAgIHJlamVjdChlcnIpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBkcml2ZXJMb2dpbjogZnVuY3Rpb24gZHJpdmVyTG9naW4oX3JlZjQsIGRyaXZlcikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGNvbW1pdCgnYXV0aF9yZXF1ZXN0Jyk7CiAgICAgICAgYXhpb3MucG9zdCgnaHR0cHM6Ly9ncm9nb24tYmFjay5oZXJva3VhcHAuY29tL2RyaXZlci9sb2dpbicsIGRyaXZlcikudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgdmFyIHRva2VuID0gcmVzcC5kYXRhLnRva2VuOwogICAgICAgICAgLyogY29uc3QgeyB1c2VyIH0gPSByZXNwLmRhdGE7ICovCgogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgdG9rZW4pOwogICAgICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9IHRva2VuOwogICAgICAgICAgY29tbWl0KCdhdXRoX3N1Y2Nlc3MnLCB0b2tlbiwgZHJpdmVyKTsKICAgICAgICAgIHJlc29sdmUocmVzcCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgY29tbWl0KCdhdXRoX2Vycm9yJyk7CiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTsKICAgICAgICAgIHJlamVjdChlcnIpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBMb2dvdXQ6IGZ1bmN0aW9uIExvZ291dChfcmVmNSkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjUuY29tbWl0OwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICBjb21taXQoJ2xvZ291dCcpOwogICAgICAgIC8qIExvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgIFZ1ZS4kY29va2llcy5yZW1vdmUoJ190b2tlbicpOwogICAgICAgIFZ1ZS4kY29va2llcy5yZW1vdmUoJ21lY2gnKTsKICAgICAgICBWdWUuJGNvb2tpZXMucmVtb3ZlKCdkcml2ZXInKTsgKi8KCiAgICAgICAgZGVsZXRlIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb247CiAgICAgICAgcmVzb2x2ZSgpOwogICAgICB9KTsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["/home/makashima/Documents/code/grogon/src/store/index.js"],"names":["Vue","Vuex","axios","VueCookies","use","$cookies","config","defaults","baseURL","Store","state","status","token","get","mech","driver","mutations","auth_request","auth_success","payload","auth_error","logout","getters","isLoggedIn","authStatus","actions","mechRegister","commit","Promise","resolve","reject","post","then","res","data","id","Email","set","headers","common","Authorization","catch","err","localStorage","removeItem","mechLogin","driverRegistration","resp","setItem","driverLogin","Logout"],"mappings":"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","sourcesContent":["import Vue from 'vue';\nimport Vuex from 'vuex';\nimport axios from 'axios';\nimport VueCookies from 'vue-cookies';\n\nVue.use(Vuex);\n\nVue.use(VueCookies);\nVue.$cookies.config('30d');\n\naxios.defaults.baseURL = 'https://grogon-back.herokuapp.com/';\n\nexport default new Vuex.Store({\n\n  state: {\n    status: '',\n    token: Vue.$cookies.get('token') || '',\n    mech: {},\n    driver: {},\n  },\n  mutations: {\n    auth_request(state) {\n      state.status = 'loading';\n    },\n    auth_success(state, token, payload) {\n      state.status = 'success';\n      state.token = token;\n      state.mech = payload;\n      state.driver = payload;\n    },\n    auth_error(state) {\n      state.status = 'error';\n    },\n    logout(state) {\n      state.status = '';\n      state.token = '';\n    },\n  },\n  getters: {\n    isLoggedIn: (state) => !!state.token,\n    authStatus: (state) => state.status,\n  },\n\n  actions: {\n\n    mechRegister({ commit }, payload) {\n      return new Promise((resolve, reject) => {\n        commit('auth_request');\n        axios.post('https://grogon-back.herokuapp.com/mechanic/register', payload)\n          .then((res) => {\n            const { token } = res.data;\n            const mech = {\n              id: res.data.id,\n              Email: res.data.Email,\n            };\n            Vue.$cookies.set('token', token);\n            Vue.$cookies.set('user', mech);\n\n            axios.defaults.headers.common.Authorization = token;\n            commit('auth_success', token, mech);\n            resolve(res);\n          })\n          .catch((err) => {\n            commit('auth_error');\n            localStorage.removeItem('token');\n            reject(err);\n          });\n      });\n    },\n    mechLogin({ commit }, payload) {\n      return new Promise((resolve, reject) => {\n        commit('auth_request');\n        axios.post('https://grogon-back.herokuapp.com/mechanic/login', payload)\n          .then((res) => {\n            const { token } = res.data;\n            const mech = {\n              id: res.data.id,\n              Email: res.data.Email,\n            };\n            Vue.$cookies.set('token', token);\n            Vue.$cookies.set('user', mech);\n\n            axios.defaults.headers.common.Authorization = token;\n            commit('auth_success', token, mech);\n            resolve(res);\n          })\n          .catch((err) => {\n            commit('auth_error');\n            localStorage.removeItem('token');\n            reject(err);\n          });\n      });\n    },\n    driverRegistration({ commit }, driver) {\n      return new Promise((resolve, reject) => {\n        commit('auth_request');\n        axios.post('https://grogon-back.herokuapp.com/driver/register', driver)\n          .then((resp) => {\n            const { token } = resp.data;\n            /*  const { user } = resp.data; */\n            localStorage.setItem('token', token);\n\n            axios.defaults.headers.common.Authorization = token;\n            commit('auth_success', token, driver);\n            resolve(resp);\n          })\n          .catch((err) => {\n            commit('auth_error');\n            localStorage.removeItem('token');\n            reject(err);\n          });\n      });\n    },\n    driverLogin({ commit }, driver) {\n      return new Promise((resolve, reject) => {\n        commit('auth_request');\n        axios.post('https://grogon-back.herokuapp.com/driver/login', driver)\n          .then((resp) => {\n            const { token } = resp.data;\n            /* const { user } = resp.data; */\n            localStorage.setItem('token', token);\n\n            axios.defaults.headers.common.Authorization = token;\n            commit('auth_success', token, driver);\n            resolve(resp);\n          })\n          .catch((err) => {\n            commit('auth_error');\n            localStorage.removeItem('token');\n            reject(err);\n          });\n      });\n    },\n    Logout({ commit }) {\n      return new Promise((resolve) => {\n        commit('logout');\n        /* Location.reload();\n        Vue.$cookies.remove('_token');\n        Vue.$cookies.remove('mech');\n        Vue.$cookies.remove('driver'); */\n\n        delete axios.defaults.headers.common.Authorization;\n        resolve();\n      });\n    },\n  },\n});\n"]}]}
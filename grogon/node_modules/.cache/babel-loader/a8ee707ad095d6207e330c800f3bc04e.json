{"remainingRequest":"/home/makashima/Documents/code/grogon/node_modules/babel-loader/lib/index.js!/home/makashima/Documents/code/grogon/node_modules/eslint-loader/index.js??ref--13-0!/home/makashima/Documents/code/grogon/src/router/index.js","dependencies":[{"path":"/home/makashima/Documents/code/grogon/src/router/index.js","mtime":1596970618838},{"path":"/home/makashima/Documents/code/grogon/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/makashima/Documents/code/grogon/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/makashima/Documents/code/grogon/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IERyaXZlclJvdXRlIGZyb20gJy4vbW9kdWxlcy9Ecml2ZXIvRHJpdmVyJzsKaW1wb3J0IE1lY2hhbmljUm91dGUgZnJvbSAnQC9tb2R1bGVzL21lY2hhbmljL01lY2hhbmljJzsKaW1wb3J0IEhvbWUgZnJvbSAnLi4vdmlld3MvSG9tZS52dWUnOwppbXBvcnQgc3RvcmUgZnJvbSAnLi4vc3RvcmUvaW5kZXgnOwpWdWUudXNlKFZ1ZVJvdXRlcik7CnZhciBiYXNlUm91dGVzID0gW3sKICBwYXRoOiAnLycsCiAgbmFtZTogJ0hvbWUnLAogIGNvbXBvbmVudDogSG9tZSwKICBtZXRhOiB7CiAgICByZWZyZXNoOiBmYWxzZQogIH0KfV07CnZhciByb3V0ZXMgPSBiYXNlUm91dGVzLmNvbmNhdChEcml2ZXJSb3V0ZSwgTWVjaGFuaWNSb3V0ZSk7CnZhciByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICBtb2RlOiAnaGlzdG9yeScsCiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmCiAgYmFzZTogcHJvY2Vzcy5lbnYuQkFTRV9VUkwsCiAgcm91dGVzOiByb3V0ZXMKfSk7CnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIGlmICh0by5tYXRjaGVkLnNvbWUoZnVuY3Rpb24gKHJlY29yZCkgewogICAgcmV0dXJuIHJlY29yZC5tZXRhLnJlcXVpcmVzQXV0aDsKICB9KSkgewogICAgaWYgKHN0b3JlLmdldHRlcnMuaXNMb2dnZWRJbikgewogICAgICBuZXh0KHsKICAgICAgICBwYXRoOiAnTWVjaExvZ2luJywKICAgICAgICBxdWVyeTogewogICAgICAgICAgcmVkaXJlY3Q6IHRvLmZ1bGxQYXRoCiAgICAgICAgfQogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIG5leHQoKTsKICAgIH0KICB9IGVsc2UgaWYgKHRvLm1hdGNoZWQuc29tZShmdW5jdGlvbiAocmVjb3JkKSB7CiAgICByZXR1cm4gcmVjb3JkLm1ldGEucmVxdWlyZXNHdWVzdDsKICB9KSkgewogICAgaWYgKHN0b3JlLmdldHRlcnMuaXNMb2dnZWRJbikgewogICAgICBuZXh0KHsKICAgICAgICBwYXRoOiAnLycsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIHJlZGlyZWN0OiB0by5mdWxsUGF0aAogICAgICAgIH0KICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBuZXh0KCk7CiAgICB9CiAgfSBlbHNlIHsKICAgIG5leHQoKTsKICB9Cn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["/home/makashima/Documents/code/grogon/src/router/index.js"],"names":["Vue","VueRouter","DriverRoute","MechanicRoute","Home","store","use","baseRoutes","path","name","component","meta","refresh","routes","concat","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","matched","some","record","requiresAuth","getters","isLoggedIn","query","redirect","fullPath","requiresGuest"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,WAAP,MAAwB,yBAAxB;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AAEAL,GAAG,CAACM,GAAJ,CAAQL,SAAR;AAEA,IAAMM,UAAU,GAAG,CACjB;AACEC,EAAAA,IAAI,EAAE,GADR;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGEC,EAAAA,SAAS,EAAEN,IAHb;AAIEO,EAAAA,IAAI,EAAE;AACJC,IAAAA,OAAO,EAAE;AADL;AAJR,CADiB,CAAnB;AAUA,IAAMC,MAAM,GAAGN,UAAU,CAACO,MAAX,CAAkBZ,WAAlB,EAA+BC,aAA/B,CAAf;AAEA,IAAMY,MAAM,GAAG,IAAId,SAAJ,CAAc;AAC3Be,EAAAA,IAAI,EAAE,SADqB;AAE3B;AACAC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAHS;AAI3BP,EAAAA,MAAM,EAANA;AAJ2B,CAAd,CAAf;AAOAE,MAAM,CAACM,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAIF,EAAE,CAACG,OAAH,CAAWC,IAAX,CAAgB,UAACC,MAAD;AAAA,WAAYA,MAAM,CAAChB,IAAP,CAAYiB,YAAxB;AAAA,GAAhB,CAAJ,EAA2D;AACzD,QAAIvB,KAAK,CAACwB,OAAN,CAAcC,UAAlB,EAA8B;AAC5BN,MAAAA,IAAI,CAAC;AACHhB,QAAAA,IAAI,EAAE,WADH;AAEHuB,QAAAA,KAAK,EAAE;AACLC,UAAAA,QAAQ,EAAEV,EAAE,CAACW;AADR;AAFJ,OAAD,CAAJ;AAMD,KAPD,MAOO;AACLT,MAAAA,IAAI;AACL;AACF,GAXD,MAWO,IAAIF,EAAE,CAACG,OAAH,CAAWC,IAAX,CAAgB,UAACC,MAAD;AAAA,WAAYA,MAAM,CAAChB,IAAP,CAAYuB,aAAxB;AAAA,GAAhB,CAAJ,EAA6D;AAClE,QAAI7B,KAAK,CAACwB,OAAN,CAAcC,UAAlB,EAA8B;AAC5BN,MAAAA,IAAI,CAAC;AACHhB,QAAAA,IAAI,EAAE,GADH;AAEHuB,QAAAA,KAAK,EAAE;AACLC,UAAAA,QAAQ,EAAEV,EAAE,CAACW;AADR;AAFJ,OAAD,CAAJ;AAMD,KAPD,MAOO;AACLT,MAAAA,IAAI;AACL;AACF,GAXM,MAWA;AACLA,IAAAA,IAAI;AACL;AACF,CA1BD;AA4BA,eAAeT,MAAf","sourcesContent":["import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport DriverRoute from './modules/Driver/Driver';\nimport MechanicRoute from '@/modules/mechanic/Mechanic';\nimport Home from '../views/Home.vue';\nimport store from '../store/index';\n\nVue.use(VueRouter);\n\nconst baseRoutes = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home,\n    meta: {\n      refresh: false,\n    },\n  },\n];\nconst routes = baseRoutes.concat(DriverRoute, MechanicRoute);\n\nconst router = new VueRouter({\n  mode: 'history',\n  // eslint-disable-next-line no-undef\n  base: process.env.BASE_URL,\n  routes,\n});\n\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some((record) => record.meta.requiresAuth)) {\n    if (store.getters.isLoggedIn) {\n      next({\n        path: 'MechLogin',\n        query: {\n          redirect: to.fullPath,\n        },\n      });\n    } else {\n      next();\n    }\n  } else if (to.matched.some((record) => record.meta.requiresGuest )) {\n    if (store.getters.isLoggedIn) {\n      next({\n        path: '/',\n        query: {\n          redirect: to.fullPath,\n        },\n      });\n    } else {\n      next();\n    }\n  } else {\n    next();\n  }\n});\n\nexport default router;\n"]}]}